#This script opens uniq_rt_exp.csv, discards the records with missing data,#And outputs the list of gene names along with exp and rt files for the cell typestypes = {	"endoderm-rt"  => [1,3,4,5,6,7,8,9],			"endoderm-exp" => [20,22,23,24,25,26,27,28],			"mesoderm-rt"  => [1,2,10,11,12,13,14,15],			"mesoderm-exp" => [20,21,29,30,31,32,33,34],			"ectoderm-rt"  => [1,2,16,17,18,19],			"ectoderm-exp" => [20,21,35,36,37,38]		}genes = []values = {	"endoderm-rt"  => [],			"endoderm-exp" => [],			"mesoderm-rt"  => [],			"mesoderm-exp" => [],			"ectoderm-rt"  => [],			"ectoderm-exp" => []		 }open "uniq_rt_exp.csv" do |f|	f.gets	until (line = f.gets).nil?		next if line.strip =~ /(^,)|(,,)|(,$)/		parts = line.strip.split(",")		genes << parts[0]		types.each{ |t, columns| values[t] << columns.map{|c| parts[c]}.join(",") }	endendopen("geneNames.csv", "w"){ |f| genes.each{|g| f.puts g} }values.each do |type, lines|	open("#{type}.csv", "w"){ |f| lines.each{|l| f.puts l} }end